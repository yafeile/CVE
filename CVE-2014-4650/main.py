#!/usr/bin/env python
#coding:utf-8
"""
  Author:  cat --<yafeile@sohu.com>
  Purpose: 
  Created: 2019/5/5
"""
from __future__ import unicode_literals
import CGIHTTPServer
import BaseHTTPServer
import urllib

class FixedCGIHTTPRequestHandler(CGIHTTPServer.CGIHTTPRequestHandler):
    def is_cgi(self):
        self.path = urllib.unquote(self.path)
        return CGIHTTPServer.CGIHTTPRequestHandler.is_cgi(self)

def main():
    server = BaseHTTPServer.HTTPServer
    handler = FixedCGIHTTPRequestHandler
    server_address = ("", 8000)
    handler.cgi_directories = ["/cgi-bin/subdir","/cgi-bin"]
    httpd = server(server_address, handler)
    httpd.serve_forever()

if __name__ == '__main__':
    main()